<script async>
  async function loadSwiperScript() {
    return new Promise((e, i) => {
      let n = document.createElement("script");
      (n.src = "https://unpkg.com/swiper@11.1.1/swiper-bundle.min.js"),
        (n.async = !0),
        (n.onload = e),
        (n.onerror = i),
        document.head.appendChild(n);
    });
  }

  async function initializeSwiperValues() {
    await loadSwiperScript(),
      new Swiper("#values-swiper", {
        slidesPerView: 1,
        grabCursor: true,
        slidesPerGroup: 1,
        a11y: false,
        spaceBetween: 100,
        autoHeight: true,
        speed: 500,
        loop: true,
        navigation: {
          nextEl: "#values-swiper-nav-next",
          prevEl: "#values-swiper-nav-prev",
        },
        pagination: {
          el: "#values-pagination",
          clickable: true,
        },
      });
  }

  async function initializeSwiperAwards() {
    await loadSwiperScript(),
      new Swiper("#awards-swiper", {
        slidesPerView: 1,
        grabCursor: true,
        slidesPerGroup: 1,
        a11y: false,
        spaceBetween: 100,
        speed: 500,
        autoHeight: true,
        loop: true,
        navigation: {
          nextEl: "#awards-swiper-nav-next",
          prevEl: "#awards-swiper-nav-prev",
        },
        pagination: {
          el: "#awards-pagination",
          clickable: true,
        },
      });
  }

  async function initializeSwiperReviews() {
    await loadSwiperScript(),
      new Swiper("#reviews-swiper", {
        slidesPerView: 1,
        grabCursor: true,
        slidesPerGroup: 1,
        a11y: false,
        spaceBetween: 100,
        speed: 500,
        autoHeight: true,
        loop: true,
        effect: "fade",
        navigation: {
          nextEl: "#reviews-swiper-nav-next",
          prevEl: "#reviews-swiper-nav-prev",
        },
        pagination: {
          el: "#reviews-pagination",
          clickable: true,
        },
      });
  }

  document.addEventListener("DOMContentLoaded", function () {
    initializeSwiperValues();
    initializeSwiperAwards();
    initializeSwiperReviews();
  });
</script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const headerForm = document.getElementById("header-form");
    const footerForm = document.getElementById("footer-form");

    headerForm.addEventListener("submit", function (event) {
      ym(49180180, "reachGoal", "form_header_send", {
        form_header_send_url: window.location.href,
      });
    });

    footerForm.addEventListener("submit", function (event) {
      ym(49180180, "reachGoal", "form_footer_send", {
        form_footer_url: window.location.href,
      });
    });
  });
</script>
<script>
  const REVIEWS_DATA = [
    {
      buttonDesktopId: "grillButton",
      reviewId: "reviewGrill",
    },
    {
      buttonDesktopId: "stroyparkButton",
      reviewId: "reviewStroypark",
    },
    {
      buttonDesktopId: "yavesButton",
      reviewId: "reviewYaves",
    },
  ];

  function openReviewModal(reviewImageId) {
    const reviewImage = document.getElementById(reviewImageId);

    REVIEWS_DATA.forEach(({ reviewId }) => {
      if (reviewId === reviewImageId) {
        reviewImage.style.display = "inline-block";
      } else {
        const overReviewImage = document.getElementById(reviewId);
        overReviewImage.style.display = "none";
      }
    });
  }

  document.addEventListener("DOMContentLoaded", () => {
    REVIEWS_DATA.forEach(({ buttonDesktopId, reviewId }) => {
      const buttonDesktop = document.getElementById(buttonDesktopId);

      buttonDesktop.addEventListener(
        "click",
        openReviewModal.bind(this, reviewId)
      );
    });
  });
</script>
