<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<script>
  const swiperProggrams = new Swiper(".swiper-programs", {
    centeredSlides: true,
    slidesPerView: 1,
    createElements: true,
    spaceBetween: 50,
    speed: 500,
    autoplay: {
      delay: 3000,
      disableOnInteraction: false,
    },
    pagination: {
      el: "#pagination-programs",
      type: "bullets",
    },
  });

  const swiperTeam = new Swiper(".swiper-team", {
    centeredSlides: true,
    slidesPerView: 1,
    createElements: true,
    spaceBetween: 50,
    speed: 500,
    pagination: {
      el: "#pagination-team",
      type: "bullets",
    },
  });

  const DEFAULT_TOP_TITLE_TEXT = "Предварительная запись:";

  const programs = [
    {
      id: "program1",
      formTitle: "«Удаление зубов мудрости — Красиво»",
      titleText: "«Удаление зубов мудрости — Красиво»",
      price: "37 160",
      tableTitles: ["base", "treatmentArea", "visits", "visitingTimes"],
      titleBaseText: "По показаниям",
      titleTreatmentArea: "4 зуба",
      titleVisitsText: "2-4",
      titleVisitingTimes: "1 месяц",
      services: [
        "Консультация",
        "Компьютерная томография",
        "Профессиональная гигиена полости рта",
        "100% анестезия",
        "Поэтапное удаление всех зубов мудрости",
        "Контрольный осмотр и снятие швов",
        "Набор для быстрого восстановления после хирургических процедур",
      ],
      result:
        "Максимальное комфортное удаление всех зубов мудрости под 6-кратным оптическим увеличением с усиленным пучком света, для минимального травмирования окружающих тканей, что способствует лучшему заживлению и восстановлению кости и мягких тканей в зоне удаления",
      forWhom:
        "Желающим провести удаление всех зубов мудрости с минимальным периодом восстановления",
    },
  ];

  const programItems = [
    {
      id: "program2",
      title: "«Одномоментная имплантация»",
    },
    {
      id: "program3",
      title: "«Сохранения зуба от удаления»",
    },
    {
      id: "program4",
      title: "«Эстетика десны»",
    },
    {
      id: "program5",
      title: "«Эстетика улыбки (виниры)»",
    },
    {
      id: "programMobile1",
      title: "«Удаление зубов мудрости — Красиво»",
    },
    {
      id: "programMobile2",
      title: "«Одномоментная имплантация»",
    },
    {
      id: "programMobile3",
      title: "«Сохранения зуба от удаления»",
    },
    {
      id: "programMobile4",
      title: "«Эстетика десны»",
    },
    {
      id: "programMobile5",
      title: "«Эстетика улыбки (виниры)»",
    },
    {
      id: "pro",
      title: "«Программа PRO ПРОФИЛАКТИКА»",
    },
  ];

  function changeContentForm(title) {
    const formTitle = document.getElementById("formTitle");
    formTitle.textContent = `${DEFAULT_TOP_TITLE_TEXT} ${title}`;

    const informationInput = document.getElementById("information");
    if (informationInput) {
      informationInput.value = title;
    }
  }

  function changeProgramContent(program) {
    const programTitle = document.getElementById("programTitle");
    const programPrice = document.getElementById("programPrice");
    const forWhom = document.getElementById("forWhom");
    const result = document.getElementById("result");
    const tableTitleIds = {
      base: "titleBaseText",
      treatmentArea: "titleTeatmentText",
      visits: "titleVisitsText",
      visitingTimes: "titleVisitingTimes",
      durability: "durabilityText",
      periodicity: "periodicityText",
    };

    Object.keys(tableTitleIds).forEach(() => {});

    tableTitleIds.forEach((titleId) => {
      const title = document.getElementById(titleId);
      title.style.display = "none";
    });

    program.tableTitles.forEach((titleId) => {
      const title = document.getElementById(titleId);
      title.style.display = "block";
    });
  }

  programItems.forEach((item) => {
    const program = document.getElementById(item.id);
    program.addEventListener("click", () => {
      changeContentForm(item.title);
    });
  });

  programs.forEach((program) => {
    const programBlock = document.getElementById(program.id);

    programBlock.addEventListener("click", () => {
      changeContentForm(program.formTitle);
      changeProgramContent(program);
    });
  });

  document.querySelectorAll(".smile").forEach((button) => {
    button.addEventListener("click", (event) => {
      const buttonId = event.target.id;
      sessionStorage.setItem("tabId", buttonId);
    });
  });

  document.addEventListener("DOMContentLoaded", () => {
    const scrollGalleryBlock = document.getElementById("galleryWrapper");
    const scrollWidthGalleryBlock = scrollGalleryBlock.scrollWidth;
    const windowWidth = window.innerWidth;

    scrollGalleryBlock.scroll((scrollWidthGalleryBlock - windowWidth) / 2, 0);
  });
</script>
